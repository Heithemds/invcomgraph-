<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Inventaire Atelier â€“ OCR</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">âš¡</div>
      <div>
        <div class="title">Inventaire Atelier</div>
        <div class="subtitle">OCR par zones â€¢ Remplissage auto</div>
      </div>
    </div>
    <div class="actions">
      <button id="btnOpenScanner" class="btn">ðŸ“· Scanner</button>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <div class="cardTitle">Saisie carton (remplie par OCR)</div>

      <div id="status" class="status">PrÃªt.</div>

      <div class="grid">
        <label>Designation
          <input id="designation" placeholder="Tshirt / Polo / Chemise...">
        </label>
        <label>Grammage
          <input id="grammage" inputmode="numeric" placeholder="190">
        </label>
        <label>RÃ©fÃ©rence
          <input id="reference" placeholder="E191">
        </label>
        <label>Couleur
          <input id="couleur" placeholder="Dark Grey">
        </label>

        <div class="row">
          <div class="chips">
            <button type="button" class="chip" data-manches="MC">MC</button>
            <button type="button" class="chip" data-manches="ML">ML</button>
          </div>
          <input id="manches" placeholder="MC ou ML" readonly>
        </div>
      </div>

      <div class="hint">
        Astuce : aligne lâ€™Ã©tiquette dans le cadre, lumiÃ¨re forte, pas dâ€™ombre.
      </div>
    </section>

    <!-- Scanner modal -->
    <div id="scannerModal" class="modal hidden">
      <div class="modalContent">
        <div class="modalHeader">
          <div class="modalTitle">Scan Ã©tiquette</div>
          <button id="btnCloseScanner" class="btnGhost">âœ•</button>
        </div>

        <div class="scannerWrap">
          <video id="video" playsinline></video>
          <div class="overlay">
            <div class="frame"></div>
            <div class="overlayText">Place lâ€™Ã©tiquette dans le cadre</div>
          </div>
        </div>

        <div class="modalFooter">
          <button id="btnCapture" class="btnPrimary">ðŸ“¸ Capturer & OCR</button>
        </div>

        <canvas id="canvas" class="hidden"></canvas>
      </div>
    </div>

  </main>

  <!-- OCR lib -->
  <script src="https://unpkg.com/tesseract.js@5/dist/tesseract.min.js"></script>
  <script src="app.js"></script>
</body>
</html>